{"version":3,"sources":["images/header/mesto-logo.svg","utils/api.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","utils/auth.js","images/pop-up/OK.svg","images/pop-up/Error.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","this","_baseUrl","_headers","response","ok","json","Promise","reject","status","fetch","credentials","then","_checkResponse","data","method","body","JSON","stringify","name","about","newPlaceName","link","newPlaceLink","cardId","likeStatus","unsetLike","setLike","avatar","withRouter","props","React","useState","loginContent","setLoginContent","setLink","email","setEmail","styleLink","display","textDecoration","marginTop","marginRight","marginBottom","marginLeft","fontSize","lineHeight","textAlign","color","useEffect","currentLink","location","pathname","userEmail","choiceContent","className","src","logo","alt","to","style","onClick","logout","handleSignOut","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","_id","card","owner","isLiked","likes","some","i","cardLikeButtonClassName","cardDeleteButtonClassName","onCardClick","type","onCardLike","length","onCardDelete","Footer","Main","cardsElements","cards","map","backgroundImage","onEditAvatar","onEditProfile","onAddPlace","PopupWithForm","isOpen","title","onSubmit","children","buttonContent","onClose","EditProfilePopup","setName","description","setDescription","evt","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarLink","useRef","current","onUpdateAvatar","ref","defaultValue","AddPlacePopup","text","setText","onAddCard","ImagePopup","undefined","Login","password","setPassword","handleSubmit","Register","BASE_URL","checkResponse","InfoTooltip","statusOK","imageOk","imageError","ProtectedRoute","loggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isTooltipOpen","setIsTooltipOpen","statusTooltip","setStatusTooltip","setCurrentUser","currentUserEmail","setCurrentUserEmail","setLoggedIn","selectedCard","setSelectedCard","setCards","deletedCard","setDeletedCard","history","useHistory","loadUserInfo","getCards","catch","console","log","push","closeAllPopups","Provider","path","register","err","authorize","localStorage","setItem","token","exact","component","changeLikeStatus","newCard","item","userData","updateUserInfo","avatarData","changeAvatar","addCard","handleDeleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.babfc65b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mesto-logo.03b78ada.svg\";","class Api {\n  constructor({baseUrl, headers}) {\n      this._baseUrl = baseUrl\n      this._headers = headers\n  }\n\n  _checkResponse(response) {\n    if(response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.status);\n    }\n  }\n\n  loadUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      credentials: 'include',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      credentials: 'include',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  addCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.newPlaceName,\n        link: data.newPlaceLink\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  handleDeleteCard(cardId){\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  setLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      credentials: 'include',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  unsetLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      credentials: 'include',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeStatus(cardId, likeStatus) {\n    if (likeStatus) {\n      return this.unsetLike(cardId);\n    } else {\n      return this.setLike(cardId);\n    }\n  }\n\n  changeAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      credentials: 'include',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  logout() {\n    return fetch(`${this._baseUrl}/logout`, {\n      method: 'GET',\n      credentials: 'include',\n    })\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://backend-mesto-domain.nomoredomains.club',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;","import React from 'react';\nimport logo from '../images/header/mesto-logo.svg';\nimport { Link, withRouter } from 'react-router-dom';\nimport api from '../utils/api';\n\nfunction Header (props) {\n\n    const [loginContent, setLoginContent] = React.useState();\n    const [link, setLink] = React.useState('');\n    const [email, setEmail] = React.useState();\n\n    const styleLink = {\n        display: 'inline-block',\n        textDecoration: 'none',\n        marginTop: 'auto',\n        marginRight: '0',\n        marginBottom: 'auto',\n        marginLeft: '24px',\n        fontSize: '18px',\n        lineHeight: '22px',\n        textAlign: 'right',\n        color: '#A9A9A9'\n    }\n\n    function choiceContent() {\n        const currentLink = props.location.pathname;\n        if (currentLink === '/sign-up') {\n            setLoginContent('Войти');\n            setLink('/sign-in');\n            setEmail('');\n        } else if (currentLink === '/sign-in' ) {\n            setLoginContent('Регистрация');\n            setLink('/sign-up');\n            setEmail('');\n        } else if (currentLink === '/') {\n            setLoginContent('Выйти');\n            setLink('/sign-up');\n            setEmail(props.userEmail);\n        }\n    }\n\n    function handleClick() {\n        api.logout();\n        props.handleSignOut(false);\n    }\n\n    React.useEffect(()=>{\n        choiceContent();\n    }, [props.location.pathname, props.userEmail])\n\n    return (\n        <header className=\"header\">\n            <img className=\"header__logo\" src={logo} alt=\"Место\" />\n            <span className=\"header__email\">{email}</span>\n            { props.location.pathname === '/' \n              ? <Link to={link} style={styleLink} onClick={handleClick}>{loginContent}</Link>\n              : <Link to={link} style={styleLink}>{loginContent}</Link>\n            }\n        </header>        \n    )\n}\n\nexport default withRouter(Header);","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = currentUser._id === props.card.owner\n    const isLiked = props.card.likes.some(i => i === currentUser._id)\n    const cardLikeButtonClassName = `card__like-button ${isLiked ?'card__like-button_active' :''}`\n\n    const cardDeleteButtonClassName = (\n        `card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`\n    );\n\n    const handleCardClick = ()=> {\n        props.onCardClick(props.card)\n    }\n\n    const handleLikeClick = () => {\n        props.onCardLike(props.card)\n    }\n\n    const handleDeleteClick = () => {\n        props.onCardDelete(props.card)\n    }\n\n    return (\n        <article className=\"card\">\n            <img className=\"card__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick}/>\n            <div className=\"card__title\">\n                <h2 className=\"card__text\">{props.card.name}</h2>\n                <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                <p className=\"card__quantity-of-likes\">{props.card.likes.length}</p>\n            </div>\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick} ></button>\n        </article>\n    )\n}\n\nexport default Card","function Footer() {\n    return(\n        <footer>\n            <p className=\"footer\">© 2021 Mesto Russia</p>\n        </footer>\n    )\n}\nexport default Footer","import React from \"react\"\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\"\nimport Footer from \"../components/Footer\"\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const cardsElements =  props.cards.map((card) => {\n        return (<Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />)\n    });\n\n    return(\n        <>\n            <main className=\"content\">\n                <section className=\"profile\">\n                    <div className=\"profile__avatar\" style={{backgroundImage: `url(${currentUser.avatar})`}}>\n                        <div className=\"profile__new-avatar-button\" onClick={props.onEditAvatar}></div>\n                    </div>\n                    <div className=\"profile__info\">\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\n                        <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n                        <h2 className=\"profile__about\">{currentUser.about}</h2>\n                    </div>\n                    <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n                </section>\n                <section className=\"cards\">\n                    {cardsElements}\n                </section>\n            </main>\n            <Footer />\n        </>\n    )\n}\n\nexport default Main\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n    return(\n        <div className={`pop-up pop-up_type_${props.name} ${props.isOpen ? 'pop-up_opened' : ''}`}>\n            <div className=\"pop-up__container\">\n                <p className=\"pop-up__title\">{props.title}</p>\n                <form className=\"pop-up__form\" name={props.name} onSubmit={props.onSubmit}>\n                    {props.children}\n                    <button className=\"pop-up__submit-button\" type=\"submit\">{props.buttonContent}</button>\n                </form>\n                <button className=\"pop-up__close-button\" type=\"button\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default PopupWithForm","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    const currentUser = React.useContext(CurrentUserContext)    \n\n    const handleChangeName = (evt) => {\n        setName(evt.target.value);\n    }\n\n    const handleChangeDescription = (evt) => {\n        setDescription(evt.target.value);\n    }\n\n    const handleSubmit = (evt) => {\n        evt.preventDefault();\n        \n        props.onUpdateUser({\n            name: name,\n            about: description\n        })\n    }\n\n    React.useEffect(()=>{\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, props.isOpen])\n\n    return(\n        <PopupWithForm title=\"Редактировать профиль\" name=\"edit\" buttonContent=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <fieldset className=\"pop-up__fieldset\">\n                <input className=\"pop-up__input\" value={name || ''} onChange={handleChangeName} type=\"text\" id=\"profile-name\" name=\"profileName\" placeholder=\"Ваше имя\" minLength=\"2\" maxLength=\"40\" required />\n                <span className=\"pop-up__input-error\" id=\"error\">Текст ошибки</span>\n            </fieldset>\n            <fieldset className=\"pop-up__fieldset\">\n                <input className=\"pop-up__input\" value={description || ''} onChange={handleChangeDescription} type=\"text\" id=\"profile-about\" name=\"profileAbout\" placeholder=\"Расскажите о себе\" minLength=\"2\" maxLength=\"200\" required />\n                <span className=\"pop-up__input-error profile-about-error-message\">Текст ошибки</span>\n            </fieldset>\n        </PopupWithForm>        \n    )\n}\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n    const avatarLink = React.useRef();\n\n    React.useEffect(()=>{\n      avatarLink.current.value = '';\n    }, [props.isOpen]) \n\n    function handleSubmit(evt) {\n      evt.preventDefault();\n\n      props.onUpdateAvatar(avatarLink.current.value)\n    }\n\n    return(\n      <PopupWithForm title=\"Обновить аватар\" name=\"change-avatar\" buttonContent=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n        <fieldset className=\"pop-up__fieldset\">\n            <input className=\"pop-up__input\" ref={avatarLink} defaultValue='' id=\"new-avatar\" name=\"newAvatar\" placeholder=\"Введдите ссылку\" type=\"url\" required />\n            <span className=\"pop-up__input-error new-place-link-error-message\">Текст ошибки</span>\n        </fieldset>\n      </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup","import React  from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n    const [text, setText] = React.useState();\n    const [link, setLink] = React.useState();\n\n    React.useEffect(()=>{\n        setText('');\n        setLink('');\n    },[props.isOpen])\n\n    const handleTextChange = (evt) => {\n        setText(evt.target.value)\n    }\n\n    const handleLinkChange = (evt) => {\n        setLink(evt.target.value)\n    }\n\n    const handleAddPlaceSubmit = (evt) => {\n        evt.preventDefault();\n\n        props.onAddCard({\n            newPlaceName: text,\n            newPlaceLink: link \n        })\n    }\n\n    return(\n        <PopupWithForm title=\"Новое место\" name=\"new-card\" buttonContent=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleAddPlaceSubmit}>\n            <fieldset className=\"pop-up__fieldset\">\n                <input className=\"pop-up__input\" value={text || ''} onChange={handleTextChange} type=\"text\" id=\"new-place-name\" name=\"newPlaceName\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\n                <span className=\"pop-up__input-error new-place-name-error-message\">Текст ошибки</span>\n            </fieldset>\n            <fieldset className=\"pop-up__fieldset\">\n                <input className=\"pop-up__input\" value={link || ''} onChange={handleLinkChange} type=\"url\" id=\"new-place-link\" name=\"newPlaceLink\" placeholder=\"Ссылка на картинку\" required />\n                <span className=\"pop-up__input-error new-place-link-error-message\">Текст ошибки</span>\n            </fieldset>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n    return(\n        <div className={`pop-up pop-up_type_preview ${props.card.name !== undefined ?'pop-up_opened' :'' }`}>\n            <div className=\"pop-up__container pop-up__container_preview\">\n                <img className=\"pop-up__photo\" src={props.card.link} alt={props.card.name} />\n                <p className=\"pop-up__description\">{props.card.name}</p>\n                <button className=\"pop-up__close-button\" type=\"button\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup","import React from \"react\";\n\nfunction Login(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleChangeEmail(evt) {\n    setEmail(evt.target.value)\n  }\n\n  function handleChangePassword(evt) {\n    setPassword(evt.target.value)\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleSubmit(email, password)\n  }\n\n  return (\n    <>\n      <div className=\"auth\">\n      <h1 className=\"auth__title\">Вход</h1>\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\n          <input className=\"auth__input\" placeholder=\"Email\" type=\"email\" value={email} onChange={handleChangeEmail}></input>\n          <input className=\"auth__input\" placeholder=\"Пароль\" type=\"password\" value={password} onChange={handleChangePassword}></input>    \n          <input className=\"auth__submit-button\" type=\"submit\" value=\"Войти\"></input>\n        </form>\n      </div>\n      {props.children}\n    </>\n\n  )\n}\n\nexport default Login","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleEmailChange(evt) {\n    setEmail(evt.target.value);\n  }\n\n  function handlePasswordChange(evt) {\n    setPassword(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleSubmit(email, password);\n  }\n\n  return (\n    <>\n      <div className=\"auth\">\n      <h1 className=\"auth__title\">Регистрация</h1>\n        <form className=\"auth__form\" onSubmit={handleSubmit}>\n          <input className=\"auth__input\" placeholder=\"Email\" type=\"email\" value={email} onChange={handleEmailChange}></input>\n          <input className=\"auth__input\" placeholder=\"Пароль\" type=\"password\" value={password} onChange={handlePasswordChange}></input>    \n          <input className=\"auth__submit-button\" type=\"submit\" value=\"Регистрация\"></input>\n        </form>\n        <span className=\"auth__already-reg\">Уже зарегистрированны? <Link to=\"/sign-in\">Войти</Link></span>\n      </div>\n      {props.children}\n    </>\n  )\n}\n\nexport default Register","export const BASE_URL = 'https://backend-mesto-domain.nomoredomains.club';\n\nfunction checkResponse(response) {\n  if(response.ok) {\n    return response.json();\n  } else {\n    return Promise.reject(response.status);\n  }\n}\n\nexport function register(email, password) {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({email: email, password: password})\n    })\n      .then(response => checkResponse(response))\n}\n\nexport function authorize(email, password) {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({email: email, password: password})\n    })\n    .then(response => checkResponse(response))\n}\n","export default __webpack_public_path__ + \"static/media/OK.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Error.df8eddf6.svg\";","import React from 'react';\nimport imageOk from '../images/pop-up/OK.svg';\nimport imageError from '../images/pop-up/Error.svg';\n\nfunction InfoTooltip(props) {\n    const statusOK = props.status;\n    const messageOK = 'Вы успешно зарегистрировались!';\n    const messageError = 'Что-то пошло не так! Попробуйте ещё раз.';\n\n    return(\n        <div className={`pop-up ${props.isOpen ? 'pop-up_opened' : ''}`}>\n            <div className=\"pop-up__container\">\n                <img className=\"pop-up__status-logo\" src={ statusOK ?imageOk :imageError} alt=\"status-logo\"/>\n                <p className=\"pop-up__message\">{ statusOK ?messageOK :messageError}</p>\n                <button className=\"pop-up__close-button\" type=\"button\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoTooltip","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Main from \"./Main\";\n\nconst ProtectedRoute = ({ ...props }) => {\n\n    return (\n        <Route>\n            { () => \n                props.loggedIn && <Main {...props} />\n            }\n        </Route>\n    )\n}\n\nexport default ProtectedRoute\n","import React from \"react\";\nimport { Route, useHistory, Switch} from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\"\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\"\nimport AddPlacePopup from \"./AddPlacePopup\"\nimport ImagePopup from \"./ImagePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport { register, authorize } from \"../utils/auth\";\nimport api from '../utils/api';\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport InfoTooltip from \"../components/InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isConfirmPopupOpen,setIsConfirmPopupOpen] = React.useState(false);\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\n  const [statusTooltip, setStatusTooltip] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [currentUserEmail, setCurrentUserEmail] = React.useState('');\n  const [loggedIn, setLoggedIn] = React.useState();\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [deletedCard, setDeletedCard] = React.useState({});\n  const history = useHistory();\n\n  React.useEffect(()=>{\n    api.loadUserInfo()\n      .then(data => {\n        setCurrentUser(data);\n        setCurrentUserEmail(data.email);\n        api.getCards()\n          .then(data => setCards(data))\n          .catch(data => console.log('Ошибка при обращении к серверу ' + data));\n        setLoggedIn(true);\n      })\n      .catch(data => {\n        console.log('Ошибка при обращении к серверу ' + data)\n        history.push('/sign-up')\n      });\n  }, [loggedIn])\n\n  const openEditPopup = ()=> {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  const openAddPlacePopup = ()=> {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const openEditAvatarPopup = ()=> {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const handleCardClick = (card)=> {\n    setSelectedCard(card)\n  }\n\n  const closeAllPopups = ()=> {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsConfirmPopupOpen(false);\n    setIsTooltipOpen(false)\n    setSelectedCard({})\n  }\n\n  const handleUpdateUser = (userData) => {\n    api.updateUserInfo(userData)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(data => console.log('Ошибка при обращении к серверу ' + data));\n  }\n\n  const handleUpdateAvatar = (avatarData) => {\n    api.changeAvatar(avatarData)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();      \n      })\n      .catch(data => console.log('Ошибка при обращении к серверу ' + data));\n  }\n\n  const handleAddCard = (data) => {\n    api.addCard(data)\n      .then((data)=>{\n        setCards([data, ...cards])\n        closeAllPopups();        \n      })\n      .catch(data => console.log('Ошибка при обращении к серверу ' + data));\n  }\n\n  function handleCardLike (card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api\n      .changeLikeStatus(card._id, isLiked)\n      .then((newCard) => {\n          setCards(\n              cards.map((item) => item._id === card._id ? newCard : item)\n          );\n      })\n      .catch(data => console.log('Ошибка при обращении к серверу ' + data));\n  }\n\n  const handleSubmitConfirm = (evt) => {\n    evt.preventDefault();\n    api.handleDeleteCard(deletedCard._id)\n      .then(() => {\n        setCards(\n          cards.filter((item) => item._id !== deletedCard._id)\n        );\n      setDeletedCard({})\n      closeAllPopups();\n      })\n      .catch(data => console.log('Ошибка при обращении к серверу ' + data));\n  }\n\n  function handleCardDelete (card) {\n    setDeletedCard(card)\n    setIsConfirmPopupOpen(true);\n  }\n\n  const handleRegisterSubmit = (email, password) => {\n    register(email, password)\n    .then(()=>{\n      setIsTooltipOpen(true);\n      setStatusTooltip(true);\n      history.push('/sign-in');\n    })\n    .catch((err)=>{\n      setIsTooltipOpen(true);\n      setStatusTooltip(false);\n      console.log('Возникла ошибка ' + err);\n    })\n  }\n\n  const handleLoginSubmit = (email, password) => {\n    authorize(email, password)\n    .then((data)=> {\n      localStorage.setItem('jwt', data.token);\n      setLoggedIn(true);\n      history.push('/')\n    })\n    .catch((err)=>{\n      console.log('Возникла ошибка ' + err)\n    })\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header userEmail={currentUserEmail} handleSignOut={setLoggedIn}/>\n      <Switch>\n        <Route path=\"/sign-up\">\n          <Register handleSubmit={handleRegisterSubmit} />\n        </Route>\n        <Route path=\"/sign-in\">\n          <Login handleSubmit={handleLoginSubmit} />\n        </Route>\n        <Route exact path=\"/\">\n          <ProtectedRoute\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={openEditPopup}\n            onAddPlace={openAddPlacePopup}\n            onEditAvatar={openEditAvatarPopup}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            cards={cards}\n          />\n        </Route>\n      </Switch>\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddCard}/>\n      <PopupWithForm title=\"Вы уверены?\" name=\"confirm\" buttonContent=\"Да\" isOpen={isConfirmPopupOpen} onSubmit={handleSubmitConfirm} onClose={closeAllPopups} />\n      <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n      <InfoTooltip isOpen={isTooltipOpen} status={statusTooltip} onClose={closeAllPopups} />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}